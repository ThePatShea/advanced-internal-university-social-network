<template name="listItem">
  <div class="post-item">
    <div class="visible-{{matchPostType 'event'}} pull-left post-date">
      <div class="day">{{timestampToDayLong dateTime}}</div>
      <div class="month">{{timestampToMonthShort dateTime}}</div>
    </div>
    <div class="visible-{{matchPostType 'discussion'}} v-middle pull-left">
      <div class="v-inner">
        <div class="num-in-bubble comments-count">
          <span class="cb-icon">{{> icon-bubble-big}}</span>
          <span class="lbl">{{commentsCount}}</span>
        </div>
      </div>
    </div>
    <div class="visible-{{matchPostType 'file'}} v-middle pull-left">
      <div class="v-inner">
        <div class="file-type">
          <span class="cb-icon">{{> icon-file-type}}</span>
          <span class="lbl">{{getTextAfterSlash fileType}}</span>
        </div>
      </div>
    </div>
    <h4 class="post-name">{{decodeURI name}}</h4>
    <div class="post-item-attributes">
      <div class="v-middle pull-right">
        <div class="v-inner">
          <span class="visible-{{matchPostType 'event'}} attribute-items">
            <span class="attribute">
              <div class="pull-right post-item-lbl">
                <span class="post-item-icon">{{> icon-time}}</span>
                {{timestampToTime dateTime}}
              </div>
            </span>
            <span class="attribute">
              <div class="pull-right post-item-lbl going-{{isGoing}}">
                <span class="post-item-icon">{{> icon-member}}</span>
                {{numOfAttendees}}
              </div>
            </span>
            <span class="attribute">
              <div class="pull-right post-item-lbl post-location">
                <span class="post-item-icon">{{> icon-location}}</span>
                {{location}}
              </div>
            </span>
          </span>
          <span class="visible-{{matchPostType 'discussion'}} attribute-items">
            <span class="attribute">
              <div class="pull-right post-item-lbl">
                <span class="post-item-icon">{{> icon-time}}</span>
                {{timestampToFromNow lastCommentTime}}
              </div>
            </span>
          </span>
          <span class="visible-{{matchPostType 'file'}} attribute-items">
            <span class="attribute">
              <div class="pull-right post-item-lbl">
                <span class="post-item-icon">{{> icon-time}}</span>
                {{timestampToFromNow lastCommentTime}}
              </div>
            </span>
            <span class="attribute">
              <div class="pull-right post-item-lbl">
                <span class="post-item-icon">{{> icon-download}}</span>
                #
              </div>
            </span>
          </span>
          <span class="post-actions">
            <span class="visible-{{matchPostType 'event'}}">{{> imGoing}}</span>
            <span class="visible-{{matchPostType 'discussion'}}">{{> reply}}</span>
            <span class="visible-{{matchPostType 'file'}}">{{> download}}</span>
          </span>
        </div>
      </div>
    </div>
  </div>
</template>
